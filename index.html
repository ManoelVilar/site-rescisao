<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Rescisão</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-image: url('fundo.jpg'); /* Substitua pelo nome da sua imagem de fundo */
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .container {
      max-width: 400px;
      margin: 40px auto;
      background-color: rgba(255, 255, 255, 0.95);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
    }

    h1 {
      text-align: center;
      font-size: 22px;
    }

    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }

    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    button {
      width: 100%;
      padding: 10px;
      background-color: #007bff;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }

    #resultado {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Simulador de Rescisão de Contrato</h1>

    <label>Nome do trabalhador:</label>
    <input type="text" id="nome">

    <label>Salário bruto (R$):</label>
    <input type="number" id="salario">

    <label>Data de admissão:</label>
    <input type="date" id="admissao">

    <label>Data de desligamento:</label>
    <input type="date" id="desligamento">

    <label>Já tirou férias?</label>
    <select id="tirouFerias">
      <option value="nao">Não</option>
      <option value="sim">Sim</option>
    </select>

    <label>Número de filhos:</label>
    <input type="number" id="filhos">

    <label>Motivo da dispensa:</label>
    <select id="motivo">
      <option value="sem_justa_causa">Sem justa causa</option>
      <option value="com_justa_causa">Com justa causa</option>
      <option value="pedido_demissao">Pedido de demissão</option>
      <option value="acordo">Acordo entre as partes</option>
    </select>

    <label>Aviso prévio indenizado?</label>
    <select id="aviso">
      <option value="sim">Sim</option>
      <option value="nao">Não</option>
    </select>

    <button onclick="calcular()">Calcular Rescisão</button>

    <div id="resultado"></div>
  </div>

  <script>
    function calcularMeses(admissao, desligamento) {
      let anos = desligamento.getFullYear() - admissao.getFullYear();
      let meses = desligamento.getMonth() - admissao.getMonth();
      let total = anos * 12 + meses;
      if (desligamento.getDate() < admissao.getDate()) {
        total -= 1;
      }
      return total < 0 ? 0 : total;
    }

    function calcular() {
      const nome = document.getElementById('nome').value;
      const salario = parseFloat(document.getElementById('salario').value);
      const admissao = new Date(document.getElementById('admissao').value);
      const desligamento = new Date(document.getElementById('desligamento').value);
      const tirouFerias = document.getElementById('tirouFerias').value;
      const filhos = parseInt(document.getElementById('filhos').value) || 0;
      const motivo = document.getElementById('motivo').value;
      const aviso = document.getElementById('aviso').value;

      const meses = calcularMeses(admissao, desligamento);
      let ferias = (tirouFerias === "nao") ? (salario / 12) * meses : 0;

      const anoDesligamento = desligamento.getFullYear();
      const admissaoAnoDesligamento = (admissao.getFullYear() === anoDesligamento) ? admissao.getMonth() + 1 : 1;
      const desligamentoMes = desligamento.getMonth() + 1;
      const mesesDecimo = desligamentoMes - admissaoAnoDesligamento + 1;
      const decimo = (salario / 12) * (mesesDecimo > 0 ? mesesDecimo : 0);

      let fgts = salario * 0.08 * meses;
      let multaFgts = fgts * 0.4;
      let avisoPrevio = aviso === "sim" ? salario : 0;
      const bonusFilhos = filhos * 50;
      const inss = salario * 0.08;
      const ir = salario > 2112 ? salario * 0.075 : 0;

      if (motivo === 'com_justa_causa') {
        ferias = 0;
        multaFgts = 0;
        avisoPrevio = 0;
      } else if (motivo === 'pedido_demissao') {
        multaFgts = 0;
      } else if (motivo === 'acordo') {
        multaFgts = fgts * 0.2;
      }

      const total = ferias + decimo + multaFgts + avisoPrevio + bonusFilhos - inss - ir;

      document.getElementById('resultado').innerHTML = `
        <div style="margin-top:20px;padding:15px;border-radius:8px;background:#f9f9f9;border:1px solid #ccc">
          <strong>Trabalhador:</strong> ${nome}<br>
          Tempo de trabalho: ${meses} meses<br>
          Férias proporcionais: R$ ${ferias.toFixed(2)}<br>
          13º proporcional (${mesesDecimo} mês(es) em ${anoDesligamento}): R$ ${decimo.toFixed(2)}<br>
          Aviso prévio: R$ ${avisoPrevio.toFixed(2)}<br>
          Multa do FGTS: R$ ${multaFgts.toFixed(2)}<br>
          Bônus por filhos: R$ ${bonusFilhos.toFixed(2)}<br>
          Desconto INSS: R$ ${inss.toFixed(2)}<br>
          Desconto IR: R$ ${ir.toFixed(2)}<br><br>
          <strong>Total líquido estimado: R$ ${total.toFixed(2)}</strong>
        </div>
      `;
    }
  </script>
</body>
</html>
